"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[674],{9674:function(e,a,r){r.r(a),r.d(a,{default:function(){return d}});var t=function(){var e=this,a=e._self._c;return a("div",[a("el-page-header",{staticClass:"card margin-top-lg",attrs:{content:"修改个人信息"},on:{back:e.goBack}}),a("el-card",{staticClass:"margin-top-lg"},[a("div",[1==e.editShow?a("el-form",{ref:"editModalForm",attrs:{model:e.formData,"label-width":"80px",size:"mini",rules:e.rules}},[a("el-form-item",{attrs:{label:"账号",prop:"UserName"}},[a("el-input",{attrs:{clearable:"",disabled:!0},model:{value:e.formData.UserName,callback:function(a){e.$set(e.formData,"UserName",a)},expression:"formData.UserName"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"Email"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.Email,callback:function(a){e.$set(e.formData,"Email",a)},expression:"formData.Email"}})],1),a("el-form-item",{attrs:{label:"名称",prop:"Name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.Name,callback:function(a){e.$set(e.formData,"Name",a)},expression:"formData.Name"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"PhoneNumber"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.PhoneNumber,callback:function(a){e.$set(e.formData,"PhoneNumber",a)},expression:"formData.PhoneNumber"}})],1),a("el-form-item",{attrs:{label:"头像",prop:"ImageUrls"}},[a("UploadImages",{model:{value:e.formData.ImageUrls,callback:function(a){e.$set(e.formData,"ImageUrls",a)},expression:"formData.ImageUrls"}})],1),a("el-form-item",{attrs:{label:"出生年月",prop:"Birth"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd 00:00:00",placeholder:"选择日期",clearable:""},model:{value:e.formData.Birth,callback:function(a){e.$set(e.formData,"Birth",a)},expression:"formData.Birth"}})],1)],1):e._e(),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.CreateOrEdit}},[e._v("确 定")])],1)],1)])],1)},l=[],s=r(5129),o=r(3518),i={computed:{...(0,o.L8)(["UserInfo","UserId"])},data(){return{editShow:!1,formData:{},rules:{UserName:[{required:!0,message:"请输入账号",trigger:"blur"}],Password:[{required:!0,message:"请输入密码",trigger:"blur"}],Email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:(e,a,r)=>{var t=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;a&&t.test(a)?r():r(new Error("请输入正确邮箱"))},trigger:"blur"}],Name:[{required:!0,message:"请输入名称",trigger:"blur"}],PhoneNumber:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:(e,a,r)=>{var t=/^1[34578]\d{9}$/;a&&t.test(a)?r():r(new Error("请输入正确的手机号"))},trigger:"blur"}],Birth:[{required:!0,message:"请输入出生年月",trigger:"blur"}],ImageUrls:[{required:!0,message:"请输入头像",trigger:"blur"}]}}},created(){this.ShowEditModal()},methods:{async ShowEditModal(){let{Data:e}=await this.$Post("/User/Get",{Id:this.UserId});this.formData=e,this.editShow=!0},async CreateOrEdit(){this.$refs.editModalForm.validate((async e=>{if(!e)return console.log("error submit!!"),!1;{let{Success:e,Msg:a,Data:r}=await this.$Post("/User/CreateOrEdit",this.formData);e&&(this.$message.success("修改成功!"),s.A.dispatch("GetInfo"))}}))},goBack(){this.$router.go(-1)}}},m=i,u=r(1656),n=(0,u.A)(m,t,l,!1,null,null,null),d=n.exports}}]);
//# sourceMappingURL=674.b32709a8.js.map